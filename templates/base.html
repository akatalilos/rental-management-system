<!DOCTYPE html>

<html lang="en">
    <head>

        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, width=device-width">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
        <link href="static/styles.css" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        
        {% block head %}{% endblock %}
      
    </head>
    <body>
        
        <header>
            <div class="header">
                <div class="logo">
                    <h3>RENTAL MANAGEMENT SYSTEM</h3>
                </div>
                {% if session.username %}
                    <div class=username>
                        <p>User: {{session["username"]}} </p>
                        <div class =logout>
                            <p>Log out</p>
                            <a href="/logout"> <i class="bi bi-box-arrow-right"></i></a>
                        </div>
                    </div>
                {% endif %}
            </div>
    
            {% if error %}
            <div class="alert alert-danger border text-center" role="alert">
                {% for err in error %}
                    <p class=error><strong>Error:</strong> {{ err }}</p>
                {% endfor %}
            </div>
            {% endif %}

            {% if get_flashed_messages() %}
                <div class="alert alert-primary border text-center" role="alert">
                    {{ get_flashed_messages() | join(" ") }}
                </div>
            {% endif %}
        </header>
       
        <main class="conteiner1">
            {% if session.user_id %}
            <nav class="menu">
                    <a  href="/"><div class="menu-items"><i class="bi bi-calendar-range"></i>Ημερολόγιο <i class="bi bi-chevron-compact-right"></i></div></a>
                    <a  href="/show_and_delete_contracts"><div class="menu-items"><i class="bi bi-list-ol"></i>Προβολή/διαγραφή συμβολαίων <i class="bi bi-chevron-compact-right"></i></div></a>
                    <a  href="/new_vehicle"><div class="menu-items"><i class="bi bi-plus-square-dotted"></i>Εισαγωγή Οχήματος <i class="bi bi-chevron-compact-right"></i></div></a>
                    <a  href="/new_contract"><div class="menu-items"><i class="bi bi-clipboard2-plus"></i>Νέο συμβόλαιο <i class="bi bi-chevron-compact-right"></i></div></a>
                    <a  href="/show_customers"><div class="menu-items"><i class="bi bi-people-fill"></i>Λίστα πελατών <i class="bi bi-chevron-compact-right"></i></div></a>
            </nav>
            {% endif %}
            <div class="container-fluid">
                {% block main %}{% endblock %}
            </div>
       
        </main>
        <script>
        $(document).ready(function() {
            $("[href]").each(function() {
                if (this.href == window.location.href) {
                    $(this).children("div").addClass("active");
                }
            });
        });
        </script>
        {% block javascript %}{% endblock %}  
    </body>
</html>
